# SocketChat
ChatMetaHolder.java:
	Синглтон, который хранит в себе пользователей чата (их сокеты) и сообщения.


server
	MessageSender.java:
		- 19/29 проходимся по сообщениям и пользователям, которые лежат в ChatMetaHolder и отправляем каждому пользователю накопившиеся сообщения.
		- 31 после отправки всех сообщений очищаем список сообщений.
		- 33/37 выжидаем 5 секунд перед следующей отправкой.
	
	SocketHandler.java:
		- 21/33 принимаем сообщение от пользователя, если оно было отправлено, и кладем его в ChatMetaHolder

	Server.java:
		- 16 создаем сервер.
		- 17 создаем Executor, который будет создавать новые потоки.
		- 18 запускаем в новом потоке класс MessageSender, который раз в 5 секунд будет отправлять сообщения всем пользователям.
		- 22 ждём подключения пользователя, и после того как пользователь подключится получаем его соекет.
		- 23/24 кладем сокет в ChatMetaHolder и запускам в новом потоке класс SocketHandler, передавая ему сокет пользователя. Он будет считывать сообщения, написанные этим пользователем.


client
	MessageReader.java
		- 17/24 просто считываем полученное сообщение по сокету и выводим его.

	MessageSender.java
		- 15/21 отправляем сообщение серверу. При этом обязательно на 17 строчке прибавляем к нашему сообщению каретку("/r"), делается это потому, что на сервере мы считываем сообщение из потока через BufferedReader.readLine, а этот метод возвращает строку только если наткнётся на новую строку или каретку.

	Client.java
		- 10 создаем клиентский сокет.
		- 13/14 запускаем в новом потоке MessageReader, который будет принимать сообщения с сервера.
		- 16/19 считываем с консоли текст и сразу передаём его в MessageSender, который отправит сообщение на сервер.
